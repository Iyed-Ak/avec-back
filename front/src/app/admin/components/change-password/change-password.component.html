<!-- src/app/admin/components/change-password/change-password.component.html -->
<div class="change-password-container">
  <h2>Changer le mot de passe</h2>

  <!-- Message de succès -->
  <div *ngIf="success" class="alert alert-success">
    <i class="fas fa-check-circle"></i>
    Mot de passe mis à jour avec succès !
  </div>

  <!-- Message d'erreur -->
  <div *ngIf="error" class="alert alert-danger">
    <i class="fas fa-exclamation-triangle"></i>
    {{ error }}
  </div>

  <div class="form-container">
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
      
      <!-- Mot de passe actuel -->
      <div class="form-group">
        <label for="currentPassword">Mot de passe actuel *</label>
        <input
          type="password"
          id="currentPassword"
          formControlName="currentPassword"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('currentPassword')"
          placeholder="Saisissez votre mot de passe actuel">
        <div *ngIf="getFieldError('currentPassword')" class="invalid-feedback">
          {{ getFieldError('currentPassword') }}
        </div>
      </div>

      <!-- Nouveau mot de passe -->
      <div class="form-group">
        <label for="newPassword">Nouveau mot de passe *</label>
        <input
          type="password"
          id="newPassword"
          formControlName="newPassword"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('newPassword')"
          placeholder="Minimum 6 caractères">
        <div *ngIf="getFieldError('newPassword')" class="invalid-feedback">
          {{ getFieldError('newPassword') }}
        </div>
      </div>

      <!-- Confirmation nouveau mot de passe -->
      <div class="form-group">
        <label for="confirmPassword">Confirmer le nouveau mot de passe *</label>
        <input
          type="password"
          id="confirmPassword"
          formControlName="confirmPassword"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('confirmPassword')"
          placeholder="Répétez le nouveau mot de passe">
        <div *ngIf="getFieldError('confirmPassword')" class="invalid-feedback">
          {{ getFieldError('confirmPassword') }}
        </div>
      </div>

      <!-- Bouton de soumission -->
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="!passwordForm.valid || isSubmitting">
          <span *ngIf="isSubmitting">
            <i class="fas fa-spinner fa-spin"></i> Modification...
          </span>
          <span *ngIf="!isSubmitting">
            <i class="fas fa-key"></i> Changer le mot de passe
          </span>
        </button>
      </div>

    </form>
  </div>

  <!-- Informations de sécurité -->
  <div class="security-info">
    <h4><i class="fas fa-shield-alt"></i> Conseils de sécurité</h4>
    <ul>
      <li>Utilisez un mot de passe d'au moins 8 caractères</li>
      <li>Combinez lettres majuscules, minuscules, chiffres et symboles</li>
      <li>Évitez les informations personnelles facilement devinables</li>
      <li>Ne réutilisez pas ce mot de passe sur d'autres sites</li>
    </ul>
  </div>
</div>